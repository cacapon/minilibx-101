# 101-02 マップを描画しよう

黒い画面だと味気ないので、画面に描画してみましょう。

このディレクトリに読み込み可能な.xpmファイルを2つ用意しました。

こちらのデータを表示してみましょう。

次のように表示されるはずです。

TODO 画像

## コードの解説

前のコードに加えて次の処理を行っています。

- xpm画像をmlxが扱えるようにロードする
- ロードしたxpm画像を指定の位置に表示する。

それぞれ説明しましょう

### xpm画像をmlxが扱えるようにロードする

mlx_xpm_file_to_image関数はファイルパスと縦横の長さのポインタを渡すことで

xpm画像用のデータをポインタとして返します。

この関数を使って地面用のxpmファイルと壁用のxpmファイルをそれぞれ取得しました。

また、扱いやすいようにt_xpm_imgという構造体を準備しています。

### ロードしたxpm画像を指定の位置に表示する

mlx_put_image_to_window()関数はwinのx,yの位置に画像を配置します。

今回の画像は16x16で固定しているので、縦横に16ずつずらしながら配置しています。

壁は周囲を囲うように配置したいので、xかyの場合が0の場合に配置しています。

## 使用した関数について

### void *mlx_xpm_file_to_image(void \*mlx_ptr, char \*filename, int \*width, int \*height)

filenameで指定したxpm形式のファイルをmlxが使える状態にロードします。

ロードが成功した場合void *型のポインタとして返します。（失敗はNULL）

### int mlx_put_image_to_window(void \*mlx_ptr, void \*win_ptr, void \*img_ptr, int x, int y)

mlxのwinの中にx,yの位置に画像を表示します。
